# 操作案例

## Spring Boot应用

### 排查自动配置问题

  - ApplicationContext中有ConditionEvaluationReport对于自动配置失效的问题十分有用
  - 使用spring-boot-actuator时，也可以通过conditions接口调试应用，查看运行时添加了哪些特性
  - 一些更具体的问题需要查看源码和Javadoc：
    - 搜索*AutoConfiguration类，关注@Conditional*注解，打开debug日志查看应用自动配置的情况
    - 搜索@ConfigurationProperties类，查看可用的外部配置，@ConfigurationProperties注解有一个name属性作为外部配置的前缀
    - 搜索直接绑定到Environment的@Value注解
    - 搜索可以控制特性开关的@ConditionalOnExpression注解

### 创建一个Non-web应用

  - SpringApplication会改变ApplicationContext类，决定是否是一个web应用
  - 对于创建Non-web应用，可以采取以下方式：
    - 将服务器相关的依赖从类路径移除
    - SpringApplication实例显示调用setWebApplicationType(WebApplicationType.NONE)

## 属性和配置

