# 项目管理工具

## Apache Maven

  - 简介：
    - Maven是一个软件项目管理和理解工具，基于项目对象模型（project object model, POM）的概念，Maven可以管理项目的构建，报告和文档
    - Maven的目标：
      - 使构建过程变得简单：
      - 提供统一的构建系统：
        - Maven使用POM和一系列插件构建系统
      - 提供高质量的项目信息：
        - 直接从源码管理中创建的修改日志
        - 相互引用的源码
        - 项目使用的依赖
        - 单元测试报告，包括覆盖率
      - 鼓励更好的开发实践：
    - Maven的特点：
      - 遵循最佳实践的简单项目设置
      - 在所有项目中保持一致的使用方式
      - 优秀的依赖管理能力，包括：自动更新，依赖闭包（也称为传递依赖关系）
      - 能够方便地同时处理多个项目
      - 一个庞大的且不断增长的类库和源数据的仓库支持开箱即用
      - 可扩展，可以轻松地扩展插件和脚本
      - 只需要很少的额外配置就可以使用新功能
      - 基于模型的构建：Maven可以将任意数量的项目构建为预定义的输出类型，例如：JAR, WAR等
      - 生成项目信息的网址或PDF
      - 发布管理：不需要额外的配置，Maven就可以集成源码管理系统（例如Subversion or Git），并且管理项目的发布，也支持将项目发布到分布式的位置供其他项目使用
      - 依赖管理：Maven支持从项目从中央仓库下载所需要的依赖，这样做可以在不同的项目中共用JARs，并确保项目之间的向后兼容性
  - Maven插件：
    - Maven本质上是一个插件执行框架，所有工作都是由插件完成。
    - 主要有两类插件：构建插件和报告插件
      - 构建插件：在构建过程中执行，在POM文件的<build/>元素中配置
      - 报告插件：在生成网址时执行，在POM文件的<reporting/>元素中配置
    - 核心插件：
      | Plugin        | Type*         | Description   |
      | ------------- | ------------- | ------------- |
      | clean         | B             | Clean up after the build |
      | compiler      | B             | Compiles Java sources |
      | deploy        | B             | Deploy the built artifact to the remote repository |
      | failsafe      | B             | Run the JUnit integration tests in an isolated classloader |
      | install       | B             | Install the built artifact into the local repository |
      | resources     | B             | Copy the resources to the output directory for including in the JAR |
      | site          | B             | Generate a site for the current project |
      | surefire      | B             | Run the JUnit unit tests in an isolated classloader |
      | verifier      | B             | Useful for integration tests - verifies the existence of certain conditions |
    - 打包插件：
      | Plugin        | Type*         | Description   |
      | ------------- | ------------- | ------------- |
      | jar           | B             | Build a JAR from the current project |
      | rar           | B             | Build a RAR from the current project |
      | war           | B             | Build a WAR from the current project |
      | source        | B             | Build a source-JAR from the current project |
    - 报告插件：
      | Plugin        | Type*         | Description   |
      | ------------- | ------------- | ------------- |
      | changelog     | R             | Generate a list of recent changes from your SCM |
      | changes       | B+R           | Generate a report from an issue tracker or a change document |
      | javadoc       | B+R           | Generate Javadoc for the project |
      | project-info-reports       | R             | Generate standard project reports |
      | surefire-report      | R             | Generate a report based on the results of unit tests |
    - 工具：
      | Plugin        | Type*         | Description   |
      | ------------- | ------------- | ------------- |
      | artifact      | B             | Manage artifacts tasks like buildinfo |
      | archetype     | B             | Generate a skeleton project structure from an archetype |
      | assembly      | B             | Build an assembly (distribution) of sources and/or binaries |
      | dependency    | B+R           | Dependency manipulation (copy, unpack) and analysis |
      | help          | B             | Get information about the working environment for the project |
      | invoker       | B+R           | Run a set of Maven projects and verify the output |
      | pdf           | B             | Generate a PDF version of your project's documentation |
      | plugin        | B+R           | Create a Maven plugin descriptor for any mojos found in the source tree, to include in the JAR |
      | release       | B             | Release the current project - updating the POM and tagging in the SCM |
      | remote-resources       | B             | Copy remote resources to the output directory for inclusion in the artifact |
  - 构建的生命周期：
    - 构建的生命周期是由不同的构建阶段组成，这些阶段按顺序执行
    - Clean生命周期：
      | Phase         | Description   | 
      | ------------- | ------------- |
      | pre-clean     | execute processes needed prior to the actual project cleaning     |
      | clean         | remove all files generated by the previous build     |
      | post-clean    | execute processes needed to finalize the project cleaning     |
    - Default生命周期：
      | Phase         | Description   | 
      | ------------- | ------------- |
      | validate      | validate the project is correct and all necessary information is available     |
      | compile       | compile the source code of the project     |
      | test          | run tests using a suitable unit testing framework. These tests should not require the code be packaged or deployed     |
      | package       | take the compiled code and package it in its distributable format, such as a JAR     |
      | verify        | run any checks to verify the package is valid and meets quality criteria     |
      | install       | install the package into the local repository, for use as a dependency in other projects locally     |
      | deploy        | done in an integration or release environment, copies the final package to the remote repository for sharing with other developers and projects     |
    - Site生命周期：
      | Phase         | Description   | 
      | ------------- | ------------- |
      | pre-site      | execute processes needed prior to the actual project site generation     |
      | site          | generate the project's site documentation     |
      | post-site     | execute processes needed to finalize the site generation, and to prepare for site deployment     |
      | site-deploy   | deploy the generated site documentation to the specified web server     |
  - POM:
    - 概述：
      - POM是一个包含项目信息和用于构建项目的配置信息的XML文件，当执行任务或目标时，Maven会寻找当前目录的POM文件，读取需要的配置信息，然后执行goal
      - 可以在POM文件中指定的配置包括：依赖，插件，执行的goal，构建的配置，项目的版本和描述等
    - Super POM:
      - Maven默认的POM文件，所有的POM文件默认是继承Super POM
    - Minimal POM:
      - POM文件的最小要求：
      
        <img width="457" alt="image" src="https://user-images.githubusercontent.com/46510621/147208745-a38e97a6-ba0f-4a5f-8533-ccf801dba888.png">
        
        - 示例：
          ```
          <project>
            <modelVersion>4.0.0</modelVersion>
            <groupId>com.mycompany.app</groupId>
            <artifactId>my-app</artifactId>
            <version>1</version>
          </project>
          ```
        - 其中groupId, artifactId, and version构成了项目的全限定名称，形式为：<groupId>:<artifactId>:<version>
    - 项目继承：
      - 示例：
        ```
        <project>
          <modelVersion>4.0.0</modelVersion>
          <parent>
            <groupId>com.mycompany.app</groupId>
            <artifactId>my-app</artifactId>
            <version>1</version>
          </parent>

          <artifactId>my-module</artifactId>
        </project>
        ```
      
      
      
      
