# 缓存

## Guava Cache

### Guava Cache概要

  - 它是在本地内存缓存数据，底层实现为ConcurrentHashMap，基于LRU淘汰策略，并提供了基于容量，时间和引用的缓存回收方式。
  - 应用场景：
    - 读取热点数据，以空间换时间，更加高效地访问数据
    - 计数器，例如可以利用基于时间的过期机制作为限流计数
    - 数据量有限，不会占用过多内存

### 使用方式

  - 初始化配置：
    ```
    @Configuration
    @EnableCaching
    public class GuavaCacheConfig {
      private Integer initCapacity;
      private Integer maxSize;
      private Integer concurrencyLevel;
      private Integer expireInMinutes;
      @Bean
      public Cache getCuavaCache() {
          Cache<String, Integer> cache = CacheBuilder.newBuilder()
              .initialCapacity(initCapacity)
              .maximumSize(maxSize)
              .concurrencyLevel(concurrencyLevel)
              .expireAfterWrite(expireInMinutes, TimeUnit.MINUTES)
              .build();
          return cache;
      }
    ```
